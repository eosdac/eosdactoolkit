<template>
  <q-modal minimized v-model="scatterModal">
    <div class="bg-blue full-height ">
      <!-- header -->
      <div style="height:50px" class="bg-dark2 row items-center justify-between q-px-md ">
        <q-icon name="icon-topmenu-3" />
        <q-icon class=" cursor-pointer" name="icon-ui-8" @click.native="scatterModal = false" />
      </div>
      <!-- content -->
      <div class="q-pa-md ">
        <div class="row justify-between items-center">
          <div style="width:100px">
            <svg viewBox="0 0 135 52" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="gs_home_02a" transform="translate(-49.000000, -39.000000)" fill="#FFFFFF"><g id="Scatter-Logo" transform="translate(49.000000, 39.000000)"><path d="M11.5924704,51.6744792 C10.1853474,51.6744792 9.01637049,51.5171457 8.08550454,51.202474 C7.15463859,50.8878022 6.41861608,50.5351582 5.87741495,50.1445312 C5.33621381,49.7539043 4.9573787,49.3795591 4.74089825,49.0214844 C4.52441779,48.6634097 4.41617919,48.4301221 4.41617919,48.3216146 C4.41617919,47.9309876 4.50277007,47.5132401 4.67595443,47.0683594 C4.8491388,46.6234787 5.065616,46.2111564 5.32539255,45.8313802 C5.58516909,45.451604 5.86658946,45.1315117 6.1696621,44.8710937 C6.47273474,44.6106758 6.74333124,44.4804688 6.98145974,44.4804688 C7.28453238,44.4804688 7.53348117,44.6757793 7.72831358,45.0664062 L8.05303264,45.3919271 C8.226217,45.5655391 8.46975386,45.7445737 8.78365052,45.9290365 C9.09754717,46.1134992 9.48720615,46.2816833 9.95263912,46.4335937 C10.4180721,46.5855042 10.964677,46.6614583 11.5924704,46.6614583 C12.9562972,46.6614583 14.0711548,46.2437108 14.9370767,45.4082031 C15.8029985,44.5726955 16.2359529,43.4388092 16.2359529,42.0065104 C16.2359529,41.0082415 16.0032399,40.1184935 15.5378069,39.3372396 C15.0723739,38.5559857 14.4608258,37.8289964 13.7031442,37.15625 C12.9454627,36.4835036 12.0795538,35.8270431 11.1053918,35.186849 C10.1312297,34.5466548 9.13543458,33.8793438 8.11797645,33.1848958 C7.10051831,32.4904479 6.10472316,31.7417575 5.13056111,30.9388021 C4.15639907,30.1358467 3.29049024,29.2135469 2.53280865,28.171875 C1.77512706,27.1302031 1.16357895,25.9529146 0.698145974,24.639974 C0.232712998,23.3270334 0,21.8242272 0,20.1315104 C0,18.6775101 0.248948788,17.212681 0.746853833,15.7369792 C1.24475888,14.2612773 1.93207401,12.8561265 2.80881985,11.5214844 C3.68556569,10.1868423 4.71924435,8.9390249 5.90988685,7.77799479 C7.10052935,6.61696468 8.38856873,5.60786019 9.77404364,4.75065104 C11.1595185,3.89344189 12.6045039,3.22070557 14.1090431,2.73242188 C15.6135822,2.24413818 17.1235107,2 18.6388739,2 C19.9377566,2 21.1067336,2.20616113 22.1458397,2.61848958 C23.1849459,3.03081803 24.0616786,3.61132438 24.7760641,4.36002604 C25.4904496,5.1087277 26.0424665,6.00932633 26.4321313,7.06184896 C26.8217961,8.11437158 27.0166256,9.29166016 27.0166256,10.59375 C27.0166256,11.8307354 26.8001484,13.046001 26.3671875,14.2395833 C25.9342266,15.4331657 25.360562,16.5616266 24.6461765,17.625 C23.931791,18.6883734 23.1254134,19.6703514 22.2270195,20.5709635 C21.3286256,21.4715757 20.4085975,22.2528179 19.4669075,22.9147135 C18.5252175,23.5766092 17.6106013,24.092012 16.7230315,24.4609375 C15.8354616,24.829863 15.0561437,25.0143229 14.3850543,25.0143229 C13.800557,25.0143229 13.2755998,24.8786906 12.8101668,24.6074219 C12.3447339,24.3361532 11.9550749,23.999785 11.6411782,23.5983073 C11.3272816,23.1968296 11.0837447,22.7736567 10.9105603,22.328776 C10.737376,21.8838953 10.6507851,21.487849 10.6507851,21.140625 C10.6507851,20.8585055 10.6886686,20.6740456 10.7644368,20.5872396 C10.8402049,20.5004336 10.9484435,20.4624565 11.0891558,20.4733073 C11.2298681,20.484158 11.4084618,20.5167098 11.6249423,20.5709635 C11.8414227,20.6252173 12.0903715,20.6523438 12.3717961,20.6523438 C13.281014,20.6523438 14.287633,20.3376768 15.3916833,19.7083333 C16.4957337,19.0789899 17.5348243,18.2760465 18.5089863,17.2994792 C19.4831483,16.3229118 20.3003498,15.2487038 20.9606152,14.0768229 C21.6208806,12.9049421 21.9510083,11.7656305 21.9510083,10.6588542 C21.9510083,9.5303763 21.6749999,8.64062826 21.1229747,7.98958333 C20.5709496,7.33853841 19.6346856,7.01302083 18.3141549,7.01302083 C17.4915291,7.01302083 16.5985607,7.17035433 15.6352226,7.48502604 C14.6718846,7.79969775 13.7031491,8.23914648 12.7289871,8.80338542 C11.754825,9.36762435 10.8131492,10.0512113 9.90393127,10.8541667 C8.99471336,11.6571221 8.19374769,12.5414448 7.50101024,13.5071615 C6.80827278,14.4728781 6.25084397,15.5145343 5.82870709,16.6321615 C5.4065702,17.7497886 5.19550493,18.9162266 5.19550493,20.1315104 C5.19550493,21.4118988 5.42821792,22.5566356 5.8936509,23.5657552 C6.35908388,24.5748748 6.97604392,25.4917493 7.74454953,26.3164062 C8.51305514,27.1410632 9.3843759,27.9006042 10.3585379,28.5950521 C11.3327,29.2895 12.3284951,29.9785122 13.3459533,30.6621094 C14.3634114,31.3457065 15.3592066,32.0509946 16.3333686,32.7779948 C17.3075307,33.504995 18.1788514,34.3079383 18.947357,35.186849 C19.7158626,36.0657596 20.3328227,37.0423123 20.7982557,38.1165365 C21.2636886,39.1907606 21.4964016,40.4223021 21.4964016,41.8111979 C21.4964016,43.1566908 21.2420409,44.4316346 20.7333118,45.6360677 C20.2245828,46.8405008 19.5264438,47.8875824 18.6388739,48.7773438 C17.7513041,49.6671051 16.7013896,50.3723932 15.4890991,50.8932292 C14.2768085,51.4140651 12.9779453,51.6744792 11.5924704,51.6744792 Z" id="Scatter"></path> <path d="M34.5228314,51.1888021 C33.0507643,51.1888021 31.6220147,50.9175374 30.2365398,50.375 C28.8510649,49.8324626 27.6225567,49.0295192 26.5509785,47.9661458 C25.4794002,46.9027725 24.6243153,45.5898516 23.9856979,44.0273438 C23.3470806,42.4648359 23.0277767,40.6527881 23.0277767,38.5911458 C23.0277767,36.6814141 23.2983732,34.8042627 23.8395744,32.9596354 C24.3807755,31.1150081 25.1276219,29.4711444 26.0801359,28.0279948 C27.0326499,26.5848452 28.1745671,25.4184072 29.5059219,24.5286458 C30.8372767,23.6388844 32.2930859,23.1940104 33.8733932,23.1940104 C35.0207396,23.1940104 35.9948871,23.427298 36.7958648,23.8938802 C37.5968424,24.3604624 38.2462741,24.9246929 38.7441791,25.5865885 C39.2420842,26.2484842 39.6046835,26.9591976 39.831988,27.71875 C40.0592924,28.4783024 40.172943,29.1510387 40.172943,29.7369792 C40.172943,30.1710091 40.0592924,30.5616302 39.831988,30.9088542 C39.6046835,31.2560781 39.328675,31.5490439 39.0039544,31.7877604 C38.6792337,32.0264769 38.3220463,32.2055116 37.9323815,32.3248698 C37.5427166,32.444228 37.1963531,32.4930557 36.8932805,32.4713542 C36.5902078,32.4496527 36.346671,32.3411468 36.1626626,32.1458333 C35.9786542,31.9505199 35.919123,31.657554 35.9840671,31.2669271 C35.8974749,30.9848076 35.816296,30.6375889 35.7405278,30.2252604 C35.6647597,29.812932 35.5348733,29.4168856 35.350865,29.0371094 C35.1668566,28.6573332 34.9124959,28.3318156 34.5877752,28.0605469 C34.2630545,27.7892782 33.8192762,27.6536458 33.256427,27.6536458 C32.6502818,27.6536458 32.0603814,27.9411864 31.4867082,28.516276 C30.913035,29.0913657 30.4043135,29.8780332 29.9605286,30.8763021 C29.5167437,31.874571 29.1595563,33.0355837 28.8889557,34.359375 C28.6183551,35.6831663 28.4830569,37.0937425 28.4830569,38.5911458 C28.4830569,39.9149372 28.6508267,41.0868005 28.9863714,42.1067708 C29.3219161,43.1267412 29.7927541,43.9839375 30.3988993,44.6783854 C31.0050446,45.3728333 31.7248313,45.8990868 32.5582811,46.2571615 C33.3917308,46.6152362 34.2955231,46.7942708 35.2696852,46.7942708 C36.5685679,46.7942708 37.6996613,46.5501326 38.6629993,46.061849 C39.6263374,45.5735653 40.4435388,44.9279554 41.1146282,44.125 C41.7857176,43.3220446 42.3269107,42.421446 42.7382235,41.4231771 C43.1495364,40.4249082 43.4526045,39.4158037 43.6474369,38.3958333 C43.7989732,37.6579824 44.1074532,37.1642808 44.5728862,36.9147135 C45.0383192,36.6651463 45.514569,36.6054681 46.0016501,36.7356771 C46.4887311,36.8658861 46.9108616,37.142576 47.2680544,37.5657552 C47.6252471,37.9889344 47.7713692,38.4934867 47.7064251,39.0794271 C47.6198329,39.7521735 47.462887,40.5225651 47.2355825,41.390625 C47.008278,42.2586849 46.6781503,43.1375824 46.2451893,44.0273438 C45.8122284,44.9171051 45.2656235,45.7905773 44.6053581,46.6477865 C43.9450927,47.5049956 43.1387151,48.2699619 42.1862011,48.9427083 C41.2336871,49.6154548 40.1242414,50.157984 38.8578308,50.5703125 C37.5914201,50.982641 36.1464348,51.1888021 34.5228314,51.1888021 Z" id="Path"></path> <path d="M62.4486703,46.7942708 C63.1197597,46.7942708 63.6988363,46.5555579 64.1859173,46.078125 C64.6729983,45.6006921 65.0951289,45.0039098 65.4523216,44.2877604 C65.8095144,43.571611 66.1017586,42.7957941 66.3290631,41.9602865 C66.5563676,41.1247788 66.7457851,40.3381113 66.8973214,39.6002604 C67.0488577,38.9058125 67.2707469,38.4012603 67.5629955,38.0865885 C67.8552441,37.7719168 68.174548,37.6145833 68.5209167,37.6145833 C68.7806933,37.6145833 69.0458778,37.6959627 69.3164784,37.858724 C69.587079,38.0214852 69.8360278,38.2330716 70.0633322,38.4934896 C70.2906367,38.7539076 70.4746423,39.0468734 70.6153546,39.3723958 C70.7560669,39.6979183 70.826422,40.0234359 70.826422,40.3489583 L70.826422,40.5117188 C70.826422,40.5768232 70.8047743,40.6744785 70.7614782,40.8046875 C70.4800536,41.9114639 70.0958066,43.0724766 69.6087256,44.2877604 C69.1216445,45.5030443 68.4992726,46.6206546 67.741591,47.640625 C66.9839094,48.6605954 66.0692932,49.5069411 64.9977149,50.1796875 C63.9261367,50.8524339 62.6759808,51.1888021 61.2472098,51.1888021 C60.0782154,51.1888021 59.0607725,50.9392386 58.1948507,50.4401042 C57.3289289,49.9409697 56.6470257,49.279084 56.1491206,48.4544271 C55.4780312,49.2139795 54.6716536,49.8595894 53.7299636,50.391276 C52.7882737,50.9229627 51.6896518,51.1888021 50.4340652,51.1888021 C49.1351825,51.1888021 47.9932652,50.928388 47.0082791,50.4075521 C46.0232931,49.8867161 45.1952677,49.1760028 44.5241783,48.2753906 C43.8530889,47.3747785 43.3497794,46.3114211 43.0142347,45.0852865 C42.67869,43.8591519 42.5109202,42.5408057 42.5109202,41.1302083 C42.5109202,38.3524167 42.9546985,35.8567819 43.8422683,33.6432292 C44.7298382,31.4296764 45.909639,29.5470998 47.381706,27.9954427 C48.8537731,26.4437856 50.5368834,25.2556465 52.4310874,24.4309896 C54.3252914,23.6063327 56.289822,23.1940104 58.3247383,23.1940104 C59.2339562,23.1940104 59.9699787,23.4435739 60.5328279,23.9427083 C61.0956771,24.4418428 61.3770974,25.1254297 61.3770974,25.9934896 C61.3770974,26.5577285 61.3175662,26.9537749 61.198502,27.1816406 C61.0794377,27.4095063 60.8575486,27.5234375 60.5328279,27.5234375 C60.2297553,27.5234375 59.9158633,27.5017363 59.5911426,27.4583333 C59.2664219,27.4149303 58.9308823,27.3932292 58.5845135,27.3932292 C57.3289269,27.3932292 56.0517114,27.6699191 54.7528287,28.2233073 C53.4539459,28.7766955 52.2795571,29.6230412 51.2296269,30.7623698 C50.1796967,31.9016984 49.3191998,33.3448263 48.6481104,35.0917969 C47.977021,36.8387674 47.6414813,38.9166546 47.6414813,41.3255208 C47.6414813,43.0833421 47.977021,44.4342401 48.6481104,45.3782552 C49.3191998,46.3222703 50.2392279,46.7942708 51.4082224,46.7942708 C52.3174403,46.7942708 53.0751105,46.4524774 53.6812558,45.7688802 C54.287401,45.085283 54.7744748,44.2769144 55.1424915,43.34375 L55.1424915,33.0572917 C55.1424915,32.7317692 55.1262557,32.4605046 55.0937837,32.2434896 C55.0613116,32.0264746 55.02884,31.8420146 54.996368,31.6901042 C54.9638959,31.5381937 54.9368362,31.4025614 54.9151882,31.2832031 C54.8935401,31.1638449 54.8827163,31.0499137 54.8827163,30.9414062 C54.8827163,30.5941823 55.0504861,30.3174924 55.3860308,30.1113281 C55.7215755,29.9051639 56.1274703,29.8020833 56.6037273,29.8020833 C57.7077776,29.8020833 58.5845103,30.0896239 59.2339517,30.6647135 C59.883393,31.2398032 60.2081088,31.9288154 60.2081088,32.7317708 L60.2081088,43.734375 C60.2081088,44.1033005 60.2514043,44.4667951 60.3379965,44.8248698 C60.4245886,45.1829445 60.554475,45.5084621 60.7276593,45.8014323 C60.9008437,46.0944025 61.1335567,46.3331154 61.4258053,46.5175781 C61.7180539,46.7020409 62.0590055,46.7942708 62.4486703,46.7942708 Z" id="Path"></path> <path d="M78.9041333,3.58463542 C78.9041333,3.10720247 78.8662498,2.72743197 78.7904816,2.4453125 C78.7147135,2.16319303 78.6389465,1.94075602 78.5631783,1.77799479 C78.4874101,1.61523356 78.4116431,1.48502653 78.335875,1.38736979 C78.2601068,1.28971305 78.2222233,1.18663249 78.2222233,1.078125 C78.2222233,0.947916016 78.2871665,0.839410156 78.4170547,0.752604167 C78.546943,0.665798177 78.7201248,0.589844076 78.9366052,0.524739583 C79.1530857,0.459635091 79.3857987,0.410807454 79.6347512,0.378255208 C79.8837037,0.345702962 80.1272406,0.329427083 80.3653691,0.329427083 C81.4694194,0.329427083 82.3407401,0.616967611 82.9793575,1.19205729 C83.6179748,1.76714697 83.9372787,2.45615918 83.9372787,3.25911458 L83.9372787,14.9453125 C85.972195,14.9453125 92.9176976,14.7608512 95.1907424,14.6523437 C95.493815,14.3268213 95.7373519,14.2074648 95.9213603,14.2942708 C96.1053686,14.3810768 96.2244311,14.587238 96.2785512,14.9127604 C96.3326713,15.2382829 96.3380833,15.6397546 96.2947872,16.1171875 C96.2514911,16.5946204 96.1649002,17.0557703 96.0350119,17.500651 C95.9051237,17.9455317 95.72653,18.3307275 95.4992255,18.65625 C95.271921,18.9817725 95.0175603,19.1445312 94.7361357,19.1445312 C92.0734261,19.2096357 85.7124184,19.2747396 83.9372787,19.2747396 L83.9372787,43.734375 C83.9372787,44.8194499 84.1429321,45.6006921 84.5542449,46.078125 C84.9655578,46.5555579 85.5175747,46.7942708 86.2103121,46.7942708 C86.8814015,46.7942708 87.4604781,46.5555579 87.9475591,46.078125 C88.4346401,45.6006921 88.8567707,45.0039098 89.2139634,44.2877604 C89.5711562,43.571611 89.8634004,42.7957941 90.0907049,41.9602865 C90.3180093,41.1247788 90.5074269,40.3381113 90.6589632,39.6002604 C90.7888515,38.9058125 91.0053287,38.4012603 91.3084013,38.0865885 C91.611474,37.7719168 91.9253659,37.6145833 92.2500866,37.6145833 C92.5098631,37.6145833 92.7804596,37.6959627 93.0618842,37.858724 C93.3433088,38.0214852 93.5976695,38.2330716 93.824974,38.4934896 C94.0522785,38.7539076 94.2362841,39.0468734 94.3769964,39.3723958 C94.5177087,39.6979183 94.5880638,40.0234359 94.5880638,40.3489583 L94.5880638,40.5117187 C94.5880638,40.5768232 94.5664161,40.6744785 94.52312,40.8046875 C94.2416954,41.9114639 93.8574484,43.0724766 93.3703673,44.2877604 C92.8832863,45.5030443 92.2555024,46.6206546 91.4869968,47.640625 C90.7184912,48.6605954 89.803875,49.5069411 88.7431208,50.1796875 C87.6823665,50.8524339 86.4376226,51.1888021 85.0088516,51.1888021 C84.1212817,51.1888021 83.3040803,51.0531698 82.5572227,50.781901 C81.8103651,50.5106323 81.1663455,50.0766089 80.6251443,49.4798177 C80.0987147,48.8993153 79.6849446,48.1596929 79.3838223,47.2609293 C79.2938007,47.3889633 79.2016625,47.5155285 79.1074074,47.640625 C78.3389018,48.6605954 77.4242856,49.5069411 76.3635314,50.1796875 C75.3027772,50.8524339 74.0580332,51.1888021 72.6292622,51.1888021 C71.7416924,51.1888021 70.9244909,51.0531698 70.1776334,50.781901 C69.4307758,50.5106323 68.7867561,50.0766089 68.245555,49.4798177 C67.7043538,48.8830265 67.2822233,48.1180602 66.9791506,47.1848958 C66.676078,46.2517314 66.524544,45.1232705 66.524544,43.7994792 L66.524544,19.2747396 C65.7885104,19.2747396 61.8085437,19.2693143 61.2348705,19.2584635 C60.6611973,19.2476128 60.1795355,19.2313369 59.7898707,19.2096354 C59.3352617,19.1879339 58.9347789,19.1662327 58.5884102,19.1445312 C58.0688571,19.1445312 57.608843,18.9112437 57.2083542,18.4446615 C56.8078653,17.9780793 56.526445,17.4626764 56.3640846,16.8984375 C56.2017243,16.3341986 56.1800766,15.8187957 56.2991408,15.3522135 C56.4182051,14.8856313 56.7158612,14.6523437 57.1921182,14.6523437 C57.6900233,14.6957467 58.2420401,14.7282985 58.8481854,14.75 C59.3677385,14.793403 59.9955224,14.8205295 60.731556,14.8313802 C61.4675895,14.842231 65.615326,14.8585068 66.524544,14.8802083 L66.524544,3.58463542 C66.524544,3.10720247 66.4866604,2.72743197 66.4108923,2.4453125 C66.3351241,2.16319303 66.2593571,1.94075602 66.1835889,1.77799479 C66.1078208,1.61523356 66.0320538,1.48502653 65.9562856,1.38736979 C65.8805174,1.28971305 65.8426339,1.18663249 65.8426339,1.078125 C65.8426339,0.947916016 65.9075771,0.839410156 66.0374654,0.752604167 C66.1673536,0.665798177 66.3405354,0.589844076 66.5570159,0.524739583 C66.7734963,0.459635091 67.0062093,0.410807454 67.2551618,0.378255208 C67.5041144,0.345702962 67.7476512,0.329427083 67.9857797,0.329427083 C69.08983,0.329427083 69.9611508,0.616967611 70.5997681,1.19205729 C71.2383855,1.76714697 71.5576893,2.45615918 71.5576893,3.25911458 L71.5576893,14.9453125 C73.0943165,14.9453125 76.4021846,14.932938 78.9041333,14.9081888 L78.9041333,3.58463542 Z M71.5576893,19.2747396 L71.5576893,43.734375 C71.5576893,44.8194499 71.7633427,45.6006921 72.1746556,46.078125 C72.5859684,46.5555579 73.1379853,46.7942708 73.8307228,46.7942708 C74.5018122,46.7942708 75.0808887,46.5555579 75.5679697,46.078125 C76.0550507,45.6006921 76.4771813,45.0039098 76.834374,44.2877604 C77.1915668,43.571611 77.483811,42.7957941 77.7111155,41.9602865 C77.8626518,41.4032814 78.2603244,40.1207992 78.9041333,38.1128399 L78.9041333,19.2638877 C76.5421377,19.2711223 73.0071674,19.2747396 71.5576893,19.2747396 Z" id="Combined-Shape"></path> <path d="M106.245478,29.9322917 C106.245478,31.169277 106.034413,32.4387956 105.612276,33.7408854 C105.190139,35.0429753 104.562355,36.2745168 103.728905,37.4355469 C102.895456,38.596577 101.867189,39.6382332 100.644074,40.5605469 C99.4209597,41.4828605 98.0084459,42.1827233 96.4064905,42.6601562 C96.622971,43.2243952 96.9098033,43.7614992 97.266996,44.2714844 C97.6241888,44.7814696 98.0517313,45.2209183 98.5496363,45.5898438 C99.0475414,45.9587692 99.6266179,46.251735 100.286883,46.46875 C100.947149,46.685765 101.710231,46.7942708 102.576153,46.7942708 C103.875035,46.7942708 104.989893,46.5501326 105.920759,46.061849 C106.851625,45.5735653 107.636355,44.9279554 108.274972,44.125 C108.913589,43.3220446 109.427723,42.421446 109.817388,41.4231771 C110.207052,40.4249082 110.499297,39.4158037 110.694129,38.3958333 C110.845665,37.6579824 111.154145,37.1642808 111.619578,36.9147135 C112.085011,36.6651463 112.561261,36.6054681 113.048342,36.7356771 C113.535423,36.8658861 113.957554,37.142576 114.314747,37.5657552 C114.671939,37.9889344 114.818061,38.4934867 114.753117,39.0794271 C114.666525,39.7521735 114.520403,40.5225651 114.314747,41.390625 C114.10909,42.2586849 113.80061,43.1375824 113.389297,44.0273438 C112.977984,44.9171051 112.453027,45.7905773 111.81441,46.6477865 C111.175792,47.5049956 110.391063,48.2699619 109.460197,48.9427083 C108.529331,49.6154548 107.436121,50.157984 106.180534,50.5703125 C104.924948,50.982641 103.485374,51.1888021 101.861771,51.1888021 C100.346408,51.1888021 98.8797744,50.890411 97.4618275,50.2936198 C96.0438805,49.6968286 94.7883127,48.8396323 93.6950864,47.7220052 C92.6018601,46.6043781 91.7251274,45.2263537 91.064862,43.5878906 C90.4045966,41.9494276 90.0744689,40.0885521 90.0744689,38.0052083 C90.0744689,35.9001631 90.3667131,33.9416323 90.9512104,32.1295573 C91.5357076,30.3174823 92.3042017,28.7495726 93.2567157,27.4257812 C94.2092297,26.1019899 95.2916157,25.065759 96.5039062,24.3170573 C97.7161968,23.5683556 98.9609407,23.1940104 100.238175,23.1940104 C101.169041,23.1940104 102.007891,23.3567692 102.754748,23.6822917 C103.501606,24.0078141 104.134802,24.468964 104.654355,25.0657552 C105.173908,25.6625464 105.568979,26.3732598 105.839579,27.1979167 C106.11018,28.0225736 106.245478,28.9340228 106.245478,29.9322917 Z M95.5297491,37.8098958 C95.5297491,38.0052093 95.5405729,38.2005199 95.562221,38.3958333 C95.583869,38.5911468 95.5946929,38.7973079 95.5946929,39.0143229 C96.4173186,38.623696 97.164165,38.124569 97.8352544,37.5169271 C98.5063438,36.9092852 99.0800084,36.2148477 99.5562654,35.4335938 C100.032522,34.6523398 100.400534,33.8005688 100.66031,32.8782552 C100.920087,31.9559416 101.049973,30.9956647 101.049973,29.9973958 C101.049973,29.2595449 100.925499,28.6844639 100.676546,28.2721354 C100.427594,27.859807 100.086642,27.6536458 99.6536811,27.6536458 C99.11248,27.6536458 98.6308182,27.8381058 98.2086813,28.2070312 C97.7865444,28.5759567 97.4185332,29.0588078 97.1046365,29.655599 C96.7907398,30.2523901 96.5309672,30.9251265 96.3253108,31.6738281 C96.1196543,32.4225298 95.9518845,33.1766455 95.8219962,33.9361979 C95.692108,34.6957503 95.6055171,35.4173143 95.562221,36.1009115 C95.5189249,36.7845086 95.508101,37.3541644 95.5297491,37.8098958 Z" id="Combined-Shape"></path> <path d="M125.176599,51.1888021 C124.397269,51.1888021 123.601716,51.0694456 122.789914,50.8307292 C121.978112,50.5920127 121.24209,50.1796904 120.581824,49.59375 C119.921559,49.0078096 119.380366,48.2319927 118.958229,47.266276 C118.536092,46.3005594 118.325027,45.0798685 118.325027,43.6041667 C118.325027,41.4557184 118.611859,39.1825207 119.185532,36.7845052 C119.759206,34.3864897 120.587231,31.7443721 121.669633,28.8580729 L115.857162,28.8580729 C115.835514,29.5091178 115.797631,30.3337624 115.74351,31.3320312 C115.68939,32.3303001 115.597388,33.3936576 115.467499,34.5221354 C115.337611,35.6506133 115.169841,36.7899248 114.964185,37.9401042 C114.758528,39.0902835 114.504168,40.153641 114.201095,41.1302083 C113.984614,41.8246562 113.643663,42.2261279 113.17823,42.3346354 C112.712797,42.4431429 112.252783,42.3617635 111.798174,42.0904948 C111.343565,41.8192261 110.975554,41.4231797 110.694129,40.9023438 C110.412704,40.3815078 110.347761,39.8389785 110.499298,39.2747396 C110.672482,38.6019932 110.824016,37.7827739 110.953904,36.8170573 C111.083793,35.8513407 111.186619,34.8313856 111.262387,33.7571615 C111.338156,32.6829373 111.397687,31.6087293 111.440983,30.5345052 C111.484279,29.4602811 111.516751,28.5000042 111.538399,27.6536458 C110.715773,27.1979144 110.03387,26.617408 109.492669,25.9121094 C108.951467,25.2068107 108.680871,24.3658903 108.680871,23.3893229 C108.680871,22.9335915 108.772874,22.5158439 108.956882,22.1360677 C109.140891,21.7562915 109.384427,21.4307739 109.6875,21.1595052 C109.990573,20.8882365 110.34776,20.6820754 110.759073,20.5410156 C111.170386,20.3999559 111.592516,20.3294271 112.025477,20.3294271 C112.415142,20.3294271 112.821037,20.38368 113.243174,20.4921875 C113.665311,20.600695 114.065793,20.7960055 114.444634,21.078125 C114.823475,21.3602445 115.164427,21.7291644 115.467499,22.1848958 C115.770572,22.6406273 116.019521,23.2048577 116.214353,23.8776042 C116.755554,23.9427087 117.215568,23.9915363 117.594409,24.0240885 C117.97325,24.0566408 118.292554,24.0837673 118.55233,24.1054688 C118.812107,24.1271702 119.028584,24.1380208 119.201768,24.1380208 L123.195813,24.1380208 C123.390645,24.1380208 123.677478,24.2573773 124.056318,24.4960938 C124.435159,24.7348102 124.808582,25.0440519 125.176599,25.4238281 C125.544616,25.8036043 125.853096,26.2105013 126.102048,26.6445312 C126.351001,27.0785612 126.443004,27.4908835 126.37806,27.8815104 C126.37806,28.0117194 126.302293,28.3263864 126.150756,28.8255208 C125.99922,29.3246553 125.815214,29.9539893 125.598734,30.7135417 C125.382253,31.4730941 125.144128,32.3465662 124.884352,33.3339844 C124.624575,34.3214025 124.38645,35.3576335 124.16997,36.4427083 C123.95349,37.5277832 123.769484,38.6508188 123.617948,39.811849 C123.466411,40.9728791 123.390644,42.1067653 123.390644,43.2135417 C123.390644,43.6692731 123.444764,44.1141471 123.553004,44.5481771 C123.661244,44.982207 123.823602,45.3674028 124.040082,45.703776 C124.256563,46.0401493 124.532571,46.3059886 124.868116,46.5013021 C125.203661,46.6966156 125.598732,46.7942708 126.053341,46.7942708 C126.811022,46.7942708 127.460454,46.5555579 128.001655,46.078125 C128.542856,45.6006921 128.997458,45.0039098 129.365475,44.2877604 C129.733492,43.571611 130.031148,42.7957941 130.258452,41.9602865 C130.485757,41.1247788 130.675174,40.3381113 130.826711,39.6002604 C130.956599,38.9058125 131.173076,38.4012603 131.476149,38.0865885 C131.779221,37.7719168 132.093113,37.6145833 132.417834,37.6145833 C132.677611,37.6145833 132.948207,37.6959627 133.229632,37.858724 C133.511056,38.0214852 133.765417,38.2330716 133.992721,38.4934896 C134.220026,38.7539076 134.404032,39.0468734 134.544744,39.3723958 C134.685456,39.6979183 134.755811,40.0234359 134.755811,40.3489583 C134.755811,40.4574658 134.744987,40.5442705 134.723339,40.609375 C134.701691,40.6744795 134.690867,40.739583 134.690867,40.8046875 C134.387795,41.9114639 133.992724,43.0724766 133.505643,44.2877604 C133.018562,45.5030443 132.39619,46.6206546 131.638508,47.640625 C130.880827,48.6605954 129.971622,49.5069411 128.910868,50.1796875 C127.850114,50.8524339 126.60537,51.1888021 125.176599,51.1888021 Z" id="Path"></path></g></g></g></svg>
          </div>
          <a style="color:white" target="_blank" href="https://github.com/GetScatter/ScatterDesktop/releases/" ><q-btn color="dark" label="Download Scatter"/></a>
        </div>
        <div class="q-my-md" style="width:552px">{{scatterErrorText}}</div>
        <div class="text-center q-pt-md animate-fade">
          <div class="q-video " style="width:552px;height:420px; display:inline-block">
            <iframe  class="" src="https://www.youtube.com/embed/ekU2VEWzsng" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
          </div>
        </div>
        
      </div>
      
      
    </div> 
  </q-modal>

</template>

<script>
import {
  mapGetters
} from 'vuex'

import ScatterTutorial from 'components/scatter-tutorial'
export default {
  name: 'InitInterface',
  components: {

    ScatterTutorial
  },
  props: {
    autorun: Boolean
  },
  data() {
    return {
      scatterModal: false,
      scatterError: false,
      scatterErrorText: this.$t('scatter_signin.login_with_scatter'),
      connectionMethod: 'scatter'
    }
  },
  computed: {
    ...mapGetters({
      getCurrentEndpoint: 'api/getCurrentEndpoint',
      getCurrentConnectionStatus: 'api/getCurrentConnectionStatus',
      hasScatter: 'api/hasScatter',
      getScatter: 'api/getScatter',
      getImported: 'account/getImported'
    })
  },

  created(){
    this.$root.$on("showScatterModal", ()=>{this.scatterModal = true});
  },

  methods: {
    async auto_scatter(){
      //need to wait for scatter when using firefox browser
      await new Promise(resolve=>{setTimeout(resolve, 200)})
      // console.log('auto connect scatter', this.hasScatter, this.getImported);
      if(this.hasScatter && this.getImported){
        this.pairScatter();
      }

    },
    async pairScatter() {
      if(!this.hasScatter){
        console.log('Scatter not detected.');
        this.scatterErrorText = this.$t('scatter_signin.scatter_is_not_available');
        this.scatterModal = true;
        //todo, gui for getting scatter
        return false;
      }

      let current = this.getCurrentEndpoint;
      let pp;
      if (current.httpEndpoint.split(':')[0].replace(/\//g, '') === 'https') {
        pp = 443
      } else if (current.httpEndpoint.split(':')[0].replace(/\//g, '') === 'http') {
        pp = 80
      } else {
        pp = null
      }
      let network2 = {
        blockchain: 'eos',
        chainId: current.chainId,
        protocol: current.httpEndpoint.split(':')[0].replace(/\//g, ''),
        host: current.httpEndpoint.split(':')[1].replace(/\//g, ''),
        port: current.httpEndpoint.split(':')[2] || pp
      }
      try {
        if (typeof this.getScatter.getVersion === 'function') { //is desktop
          let version = await this.getScatter.getVersion()
          if (this.versionCompare(version, '6.1.10') < 0) {
            throw Error('outdated')
          }
        } else if (typeof this.getScatter.requireVersion === 'function') { // is extension
          this.getScatter.requireVersion(6.1)
        }

        let suggest = await this.getScatter.suggestNetwork(network2)
        let identity = await this.getScatter.getIdentity({
          accounts: [{
            blockchain: 'eos',
            chainId: current.chainId
          }]
        }) 
        this.$store.commit('account/UNLOCK_ACCOUNT_SCATTER')
        //we should have an identity! do stuff with it...
        let queryAccount = await this.$store.dispatch('api/getAccount', {account_name: identity.accounts[0].name} );
        let memberRegistration = await this.$store.dispatch('api/getRegistered');
        let latestMemberTerms = await this.$store.dispatch('api/getMemberTerms');
        let custs = await this.$store.dispatch('api/getCustodians');
        this.$profiles.getProfiles(custs.map(c=>c.cust_name) );

        await this.$store.dispatch('api/getIsCandidate');
        await this.$store.dispatch('api/getIsCustodian');//todo: should be checked from res getcustodians.

        this.$emit('done');

      //todo do error handling in GUI
      } catch (err) {
        if (err.type === 'locked') {
          this.scatterError = true
          this.scatterErrorText = 'scatter_signin.scatter_is_locked'
        } else if (err.type === 'identity_rejected') {
          this.scatterError = true
          this.scatterErrorText = 'scatter_signin.identity_request_denied'
        } else if (err.message === 'outdated') {
          this.scatterError = true
          this.scatterErrorText = 'scatter_signin.scatter_is_outdated'
        } else {
          this.scatterError = true
          if (typeof(err.message) != "undefined") {
            this.scatterErrorText = err.message
          } else {
            this.scatterErrorText = 'scatter_signin.scatter_is_not_available'
          }
        }
      }
    },
    versionCompare(v1, v2, options) {
      var lexicographical = (options && options.lexicographical) || false,
          zeroExtend = (options && options.zeroExtend) || true,
          v1parts = (v1 || "0").split('.'),
          v2parts = (v2 || "0").split('.');

      function isValidPart(x) {
        return (lexicographical ? /^\d+[A-Za-zαß]*$/ : /^\d+[A-Za-zαß]?$/).test(x);
      }

      if (!v1parts.every(isValidPart) || !v2parts.every(isValidPart)) {
        return NaN;
      }

      if (zeroExtend) {
        while (v1parts.length < v2parts.length) v1parts.push("0");
        while (v2parts.length < v1parts.length) v2parts.push("0");
      }

      if (!lexicographical) {
        v1parts = v1parts.map(function(x){
         var match = (/[A-Za-zαß]/).exec(x);
         return Number(match ? x.replace(match[0], "." + x.charCodeAt(match.index)):x);
        });
        v2parts = v2parts.map(function(x){
         var match = (/[A-Za-zαß]/).exec(x);
         return Number(match ? x.replace(match[0], "." + x.charCodeAt(match.index)):x);
        });
      }

      for (var i = 0; i < v1parts.length; ++i) {
        if (v2parts.length == i) {
          return 1;
        }

        if (v1parts[i] == v2parts[i]) {
          continue;
        }
        else if (v1parts[i] > v2parts[i]) {
          return 1;
        }
        else {
          return -1;
        }
      }

      if (v1parts.length != v2parts.length) {
        return -1;
      }

      return 0;
    }
  }
}
</script>

<style>
</style>
